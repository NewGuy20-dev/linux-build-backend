{
  "base": "arch",
  "architecture": "x86_64",
  "kernel": {
    "version": "linux-lts",
    "customFlags": ["kaslr", "stack-protector"],
    "modules": {
      "enable": ["btrfs", "dm-crypt", "apparmor"],
      "disable": ["bluetooth", "pcspkr", "floppy"]
    }
  },
  "init": "systemd",
  "filesystem": {
    "root": "btrfs",
    "encryption": "luks2",
    "compression": true,
    "partitions": [
      {
        "mountPoint": "/boot",
        "size": "1G",
        "filesystem": "ext4"
      },
      {
        "mountPoint": "/home",
        "size": "50G",
        "filesystem": "btrfs",
        "encrypted": true
      },
      {
        "mountPoint": "/var",
        "size": "20G", 
        "filesystem": "btrfs",
        "encrypted": true
      }
    ],
    "lvm": false,
    "raid": false
  },
  "display": {
    "server": "wayland",
    "compositor": "hyprland",
    "bar": "waybar",
    "launcher": "rofi",
    "terminal": "kitty",
    "theme": "catppuccin-dark"
  },
  "packages": {
    "base": ["base", "linux-lts", "linux-firmware", "btrfs-progs", "cryptsetup"],
    "development": [
      "docker", "k3s", "python", "python-pip", "python-virtualenv", "python-poetry",
      "nodejs", "npm", "yarn", "pnpm", "rust", "cargo", "go", "vscodium",
      "git", "delta", "github-cli"
    ],
    "desktop": [
      "hyprland", "waybar", "rofi", "kitty", "firefox", "thunar",
      "grim", "slurp", "wl-clipboard", "mako", "swaylock"
    ],
    "multimedia": [
      "pipewire", "pipewire-pulse", "pipewire-jack", "wireplumber",
      "ffmpeg", "gstreamer", "gst-plugins-good", "gst-plugins-bad"
    ],
    "system": [
      "networkmanager", "openvpn", "systemd-resolved", "avahi",
      "prometheus", "grafana", "netdata", "borgbackup", "syncthing"
    ],
    "security": [
      "apparmor", "fail2ban", "nftables", "ufw", "clamav", "rkhunter"
    ],
    "databases": ["postgresql", "redis"],
    "servers": ["nginx", "certbot"],
    "ai_ml": ["cuda", "python-pytorch", "python-tensorflow", "jupyter-lab", "ollama"],
    "utilities": [
      "zsh", "oh-my-zsh", "starship", "btop", "neofetch", "tree", "wget", "curl",
      "unzip", "zip", "rsync", "tmux", "vim", "nano"
    ]
  },
  "securityFeatures": {
    "mac": ["apparmor", "selinux"],
    "firewall": {
      "backend": "nftables",
      "policy": "deny",
      "rules": [
        "allow ssh port 22",
        "allow https port 443",
        "allow http port 80"
      ]
    },
    "kernelHardening": [
      "kaslr", "stack-protector", "disable-unused-modules",
      "restrict-dmesg", "disable-kexec", "enable-smep-smap"
    ]
  },
  "services": {
    "enable": [
      "systemd-resolved", "NetworkManager", "docker", "postgresql", "redis",
      "nginx", "grafana", "prometheus", "netdata", "fail2ban", "apparmor",
      "syncthing@user", "avahi-daemon"
    ],
    "disable": ["bluetooth", "cups", "sshd"]
  },
  "backup": {
    "tool": "borg",
    "schedule": "daily",
    "retention": {
      "daily": 7,
      "weekly": 4,
      "monthly": 12
    },
    "destinations": ["local", "s3"]
  },
  "customization": {
    "shell": "zsh",
    "theme": "catppuccin",
    "bootloader": {
      "type": "grub",
      "theme": "quantumforge",
      "timeout": 5
    },
    "plymouth": {
      "theme": "quantumforge-spinner"
    },
    "dotfiles": {
      "repository": "https://github.com/user/dotfiles.git",
      "branch": "main"
    }
  },
  "postInstall": {
    "scripts": [
      "optimize-system-performance",
      "setup-gpu-drivers", 
      "configure-ai-ml-environment",
      "setup-development-tools",
      "configure-security-policies",
      "setup-monitoring-stack",
      "configure-backup-system",
      "install-multimedia-codecs",
      "setup-printer-support",
      "configure-bluetooth",
      "generate-documentation"
    ],
    "services": [
      "enable-automatic-updates",
      "configure-log-rotation",
      "setup-disk-monitoring",
      "configure-dns-over-https"
    ]
  }
}
